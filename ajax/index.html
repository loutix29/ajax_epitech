<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>    
   async function getApi(){// dire que c'est une fonction insynchrone
    const response = await fetch("/api/movies")
   // Converting received data to JSON 
    .then(response => response.json()) 
    .then(json => { 

        // Create a variable to store HTML 
        let li = `<tr><th>Name</th><th>Email</th></tr>`; 
        // Loop through each data and add a table row 
        json.forEach(movie => { 
            li += `<tr> 
                <td>${movie.title} </td> 
                <td>${movie.summary}</td>          
            </tr>`; 
        }); 
   
    // Display result 
    document.getElementById("movies").innerHTML = li; 
    });
}


getApi();
</script>

<div id="movies"> </div>
</body>
</html>
